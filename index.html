<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Yu-Gi-Oh Style 3D Card Animation</title>
    <style>
        body {
            perspective: 1500px;
            background: linear-gradient(45deg, #000, #1a1a1a);
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            overflow: hidden;
            margin: 0;
        }
        .card-container {
            width: 300px;
            height: 400px;
            position: relative;
            transform-style: preserve-3d;
            transition: transform 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            animation: hover 3s ease-in-out infinite;
        }
        .card {
            width: 100%;
            height: 100%;
            position: absolute;
            backface-visibility: hidden;
            border-radius: 15px;
            box-shadow: 0 0 15px rgba(255, 215, 0, 0.2);
            transition: all 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
            background-color: #2a2a2a;
        }
        .card.face {
            background: radial-gradient(circle, #4a4a4a, #2a2a2a);
            transform: rotateY(0deg);
        }
        .card.back {
            transform: rotateY(180deg);
            background-size: cover;
            background-position: center;
        }
        .enter {
            animation: summonCard 1.2s forwards;
        }
        .exit {
            animation: banishCard 1.2s forwards;
        }
        @keyframes summonCard {
            0% { transform: translateZ(-1000px) rotateY(90deg); opacity: 0; }
            50% { transform: translateZ(500px) rotateY(-30deg); opacity: 0.5; }
            100% { transform: translateZ(0) rotateY(0deg); opacity: 1; }
        }
        @keyframes banishCard {
            0% { transform: translateZ(0) rotateY(0deg); opacity: 1; }
            50% { transform: translateZ(500px) rotateY(30deg); opacity: 0.5; }
            100% { transform: translateZ(-1000px) rotateY(-90deg); opacity: 0; }
        }
        .glow {
            animation: glowPulse 2s infinite alternate;
        }
        @keyframes glowPulse {
            from { box-shadow: 0 0 15px rgba(255, 215, 0, 0.2); }
            to { box-shadow: 0 0 25px rgba(255, 215, 0, 0.3), 0 0 35px rgba(255, 165, 0, 0.2); }
        }
        @keyframes hover {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
    </style>
</head>
<body>
    <div class="card-container">
        <div class="card face"></div>
        <div class="card back"></div>
    </div>
    <script>
        function updateCardImage(element, imageUrl) {
            element.style.backgroundImage = `url(${imageUrl})`;
        }

        const images = [
            'card1.png', 'card2.png', 'card3.png', 'card4.png', 'card5.png',
            'card6.png', 'card7.png', 'card8.png', 'card9.png'
        ];
        let index = 0;
        let clickCount = 0;
        const cardContainer = document.querySelector('.card-container');
        const face = document.querySelector('.card.face');
        const back = document.querySelector('.card.back');

        updateCardImage(face, images[index]);
        updateCardImage(back, 'back.jpg');

        cardContainer.addEventListener('click', () => {
            clickCount++;
            if (clickCount === 1) {
                cardContainer.classList.add('enter');
                setTimeout(() => cardContainer.classList.add('glow'), 1200);
            } else if (clickCount === 2) {
                cardContainer.style.transform = 'rotateY(180deg) rotateZ(10deg) scale(1.1)';
            } else if (clickCount === 3) {
                cardContainer.classList.remove('enter', 'glow');
                cardContainer.classList.add('exit');
                setTimeout(() => {
                    cardContainer.classList.remove('exit');
                    cardContainer.style.transform = 'rotateY(0deg) rotateZ(0deg) scale(1)';
                    index = (index + 1) % images.length;
                    updateCardImage(face, images[index]);
                    clickCount = 0;
                }, 1200);
            }
        });

        cardContainer.addEventListener('mousemove', (e) => {
            const { left, top, width, height } = cardContainer.getBoundingClientRect();
            const x = (e.clientX - left) / width;
            const y = (e.clientY - top) / height;
            const tiltX = (y - 0.5) * 20;
            const tiltY = (x - 0.5) * -20;
            cardContainer.style.transform = `rotateX(${tiltX}deg) rotateY(${tiltY}deg) translateY(${-10 * Math.abs(Math.sin(Date.now() / 1000))}px)`;
        });

        cardContainer.addEventListener('mouseleave', () => {
            cardContainer.style.transform = '';
        });
    </script>
</body>
</html>